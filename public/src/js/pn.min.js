const PN = {
    TIMEOUT: 10, //in seconds
    URL: '',
    LOCAL_DATA: [{
      "title": "Title 1",
      "icon": "/img/img1.png",
      "image": "https://via.placeholder.com/600/92c952",
      "body": "text 1",
      "url": "https://via.placeholder.com/600/92c952"
    },
    {
      "title": "Title 2",
      "icon": "/img/img2.png",
      "image": "https://via.placeholder.com/600/771796",
      "body": "text 2",
      "url": "https://via.placeholder.com/600/771796"
    },
    {
      "title": "Title 3",
      "icon": "/img/img3.png",
      "image": "https://via.placeholder.com/600/24f355",
      "body": "text 3",
      "url": "https://via.placeholder.com/600/24f355"
    },
    {
      "title": "Title 4",
      "icon": "/img/img4.png",
      "image": "https://via.placeholder.com/600/d32776",
      "body": "text 4",
      "url": "https://via.placeholder.com/600/d32776"
    },
    {
      "title": "Title 5",
      "icon": "/img/img5.png",
      "image": "https://via.placeholder.com/600/f66b97",
      "body": "text 5",
      "url": "https://via.placeholder.com/600/f66b97"
    }]
};



// ---------------------------
PN.app=(function(){function n(){PN&&PN.LOCAL_DATA&&PN.LOCAL_DATA.length?i(PN.LOCAL_DATA):function(){if(!PN.URL)return;$.get(PN.URL).done(({notifications:n})=>{n&&n.length&&i(n)})}()}function i(n){let i=0;const o=n.length;!function e(){setTimeout(()=>{!function(n){if(!t()||!n)return;const{title:i,icon:o,image:e,body:c,url:f}=n;new Notification(i,{icon:o,image:e,body:c}).onclick=function(){this.close();const n=window.open(f,"_blank");n.focus()}}(n[i++]),o===i&&(i=0),e()},PN.TIMEOUT*1000)}()}function t(){return"granted"===Notification.permission}return{init:function(){"default"===Notification.permission?Notification.requestPermission(i=>{"granted"===i&&n()}):t()&&n()}}})(),document.addEventListener("DOMContentLoaded",function(){Notification&&PN.app.init()});
